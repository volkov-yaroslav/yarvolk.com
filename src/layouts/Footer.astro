---
import '@styles/components/footer.css';

import menu from '@config/menus.json';
import siteConfig from '@config/site.config.json';

const { isContactPage = false } = Astro.props;

const { socialLinks } = siteConfig;
const { footerMenu } = menu;

const year = new Date().getFullYear();
const promoItems = Array.from({ length: 8 });
---

<footer class={`${isContactPage ? 'pt-8' : 'pt-28'} pb-16 sticky bottom-0 z-[1]`}>
  {!isContactPage && (
    <div class="mb-20 overflow-hidden">
      <a
        href="/contact"
        class="footer-promo relative w-[1920px] max-w-full mx-auto block text-4xl md:text-5xl text-white font-secondary font-medium group"
      >
        {[0, 1].map((row) => (
          <span class={`promo-row ${row === 0 ? 'promo-row-forward mb-5' : 'promo-row-reverse'}`}>
            <span class="promo-track">
              {promoItems.map(() => (
                <span class="promo-unit">
                  <span class="promo-text">Let&apos;s make something</span>
                  <img
                    class={`promo-arrow ${row === 1 ? 'promo-arrow-reverse' : ''}`}
                    src="/images/arrow-right.svg"
                    alt="arrow-right"
                    height="31"
                    width="39"
                    loading="lazy"
                  />
                </span>
              ))}
              {promoItems.map(() => (
                <span class="promo-unit" aria-hidden="true">
                  <span class="promo-text">Let&apos;s make something</span>
                  <img
                    class={`promo-arrow ${row === 1 ? 'promo-arrow-reverse' : ''}`}
                    src="/images/arrow-right.svg"
                    alt=""
                    height="31"
                    width="39"
                    loading="lazy"
                  />
                </span>
              ))}
            </span>
          </span>
        ))}
      </a>
    </div>
  )}

  <div class="container">
    <div class="row">
      <div class="md:col-6 text-center md:text-left mb-4">
        <ul class="inline-flex flex-wrap justify-center md:grid md:grid-flow-col md:auto-cols-max md:grid-rows-2 md:justify-start gap-x-6 gap-y-2">
          {socialLinks.map((item) => (
            <li class="inline-block hover:opacity-75 transition-op duration-300">
              <a href={item.link} target="_blank" rel="noopener noreferrer" class="link">{item.fullName}</a>
            </li>
          ))}
        </ul>
      </div>

      <div class="md:col-6 text-center md:text-right mb-4">
        <ul class="inline-flex flex-wrap justify-center md:justify-end gap-x-6">
          {footerMenu.map((item) => (
            <li class="inline-block hover:opacity-75 transition-op duration-300">
              <a href={item.link} class="link">{item.name}</a>
            </li>
          ))}
        </ul>
      </div>

      <div class="md:col-6 text-center md:text-left mb-4 md:mb-0">
        <p class="text-white/75">&copy; {year} Yarvolk. All rights reserved.</p>
      </div>

      <div class="md:col-6 text-center md:text-right">
        <div class="inline-flex items-center rounded-full border border-white/10 bg-white/5 p-1">
          <button
            type="button"
            class="rounded-full px-3 py-1 text-sm text-white bg-white/10"
            aria-current="true"
          >
            EN
          </button>
          <button
            type="button"
            class="rounded-full px-3 py-1 text-sm text-white/70 hover:text-white transition-colors duration-300"
          >
            UA
          </button>
          <button
            type="button"
            class="rounded-full px-3 py-1 text-sm text-white/70 hover:text-white transition-colors duration-300"
          >
            PL
          </button>
        </div>
      </div>
    </div>
  </div>
</footer>
